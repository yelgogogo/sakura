<md-sidenav-container>
<md-toolbar class="hometop" color="primary" >
  <h5 *ngIf="bay">
    {{bay.name}}
  </h5>
  <span [style.width]="'100%'" >
  <nav >
    <button [style.float]="'right'" md-icon-button [mdMenuTriggerFor]="menu">
    <md-icon>more_horiz</md-icon>
  </button>
  <md-menu #menu="mdMenu">
<!--   <a *ngIf="!user.token" routerLink="/login" routerLinkActive="active">
    <button md-menu-item>
      <md-icon>account_circle</md-icon>
      <span>登录</span>
    </button>
    </a> -->
<!--     <a *ngIf="login" routerLink="/workarea" routerLinkActive="active">
    <button md-menu-item >
      <md-icon>business</md-icon>
      <span>{{page.app_a2}}</span>
    </button>
    </a> -->
    <a  routerLink="/profile" routerLinkActive="active">
    <button md-menu-item>
      <md-icon>content_paste</md-icon>
      <span>个人</span>
    </button>
    </a>
    <a  routerLink="/recycle" routerLinkActive="active">
    <button md-menu-item>
      <md-icon>autorenew</md-icon>
      <span>回收站</span>
    </button>
    </a>
    <button md-menu-item (click)="changeMode(user.nightmode)">
      <md-icon *ngIf="!user.nightmode">brightness_4</md-icon>
      <span *ngIf="!user.nightmode">夜晚模式</span>
      <md-icon *ngIf="user.nightmode">brightness_5</md-icon>
      <span *ngIf="user.nightmode">日间模式</span>
    </button>
    <button md-menu-item (click)="logOut($event)">
      <md-icon >reply_all</md-icon>
      <span>退出</span>
    </button>
  </md-menu>
</nav>
</span>
<!--   <button md-button (click)="gotoProfile()" class="rightbtn"> 个人 </button> -->

</md-toolbar>
<div *ngIf="bay">
  
  
  <md-card class="cvimg">
  <img md-card-image src="{{bay.cover}}" [style.width]="'110%'">
  </md-card>
  <md-card>
  <md-tab-group>
    <md-tab label="故事" >
      <md-card class="work-card"  *ngFor="let story of bay.storys" [@selectCard]="story.flag" >
        <md-card-header>
          <div md-card-avatar class="example-header-image" [style.background-image]="'url(' + story.avatar + ')'"></div>
          <md-card-title>{{story.title}}</md-card-title>
          <md-card-subtitle>{{story.role}} {{story.starttime}}</md-card-subtitle>
        </md-card-header>
        <img md-card-image class="work-img" src="{{story.cover}}">
        <md-card-content style="white-space: pre-line;">
          <h5 *ngIf="story.flag!=='active'">{{story.subtitle}}</h5>
          <p *ngIf="story.flag==='active'">
            {{story.description}}
          </p>
        </md-card-content>
        <md-card-actions>
          <button *ngIf="story.ownerid===user.id" md-button (click)="deleteStory(story,user)">删除 </button>
          <button *ngIf="story.subtitle!==story.description" md-button (click)="selectCard(story)">
            <span *ngIf="story.flag==='inactive'">展开</span>
            <span *ngIf="story.flag!=='inactive'">收起</span>
          </button>
          <ng-template #folding>Loading...</ng-template>
          <button md-button (click)="gotoStory(story)">评论 </button>
          
        </md-card-actions>
      </md-card>
    </md-tab>
    <!-- <md-tab label="项目">
      <md-card bays="work-card"  *ngFor="let projectexp of bay.projectexps">
        <md-card-header>
          <div md-card-avatar src="assets/img/mic.jpg"></div>
          <md-card-title>{{projectexp.name}}</md-card-title>
          <md-card-subtitle>{{projectexp.starttime}}-{{projectexp.endtime}} {{projectexp.company}}</md-card-subtitle>
        </md-card-header>
        <img md-card-image src="assets/img/mic.jpg">
        <md-card-content>
          <h6>{{projectexp.role}}</h6>
          <p>
            {{projectexp.description}}
          </p>
        </md-card-content>
      </md-card>
    </md-tab>
    <md-tab label="技能">
      <md-list>
        <md-list-item *ngFor="let skill of bay.skill"
        [@shrinkOut]="'in'"
        [style.width]="'100%'">
          <span>{{skill.language}}</span> 
          <span bays="skills">
          <span>{{skill.years}}年</span>
            <md-progress-bar bays="skillbar"
                [color]="accent"
                [mode]="determinate"
                [value]="skill.value" >
            </md-progress-bar>
          </span>
          <md-card *ngIf="skill.state==='active'" bays="skillcard">
            <md-list>
              <md-card-header>{{skill.language}} 经验</md-card-header>
              <md-list-item>2006-2010 in IBM</md-list-item>
              <md-list-item>2010-Now in HP</md-list-item>
            </md-list>  

          </md-card>
        </md-list-item>
      </md-list>
    </md-tab> -->
  </md-tab-group>
  </md-card>
  <div class="fabbtn">
    <button md-fab md-fab-bottom (click)="gotoShare()"><md-icon>add</md-icon></button>
  </div>
</div>

</md-sidenav-container>
  <!-- <button  (click)="delete()">Clear</button>
  <button  (click)="deleteim()">ClearIm</button>
  <button  (click)="show()">Show</button>


    <h3>Normal Buttons</h3>
  <div bays="button-row">
    <button md-button (click)="add()">Flat button</button>
    <button md-raised-button>Raised button</button>
    <button md-fab [@addAni]="addflag"><md-icon>check</md-icon></button>
    <button md-mini-fab><md-icon>check</md-icon></button>
  </div>

  <md-button-toggle-group #group="mdButtonToggleGroup" vertical="true" >
  <md-button-toggle value="left" (click)="selectType(goodtype)" >
    <md-icon>format_align_left</md-icon>
  </md-button-toggle>
  <md-button-toggle value="center" (click)="selectType(goodtype)" >
    <md-icon>format_align_center</md-icon>
  </md-button-toggle>
  <md-button-toggle value="right" (click)="selectType(goodtype)" [@heroState]="goodtype">
    <md-icon>format_align_right</md-icon>
  </md-button-toggle>
  <md-button-toggle value="justify" disabled>
    <md-icon>format_align_justify</md-icon>
  </md-button-toggle>
</md-button-toggle-group> -->